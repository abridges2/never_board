<div class="col">
  <div class="card h-100 shadow-sm border-0 rounded-4 overflow-hidden bg-white">
    <% if product.image.attached? %>
      <%= image_tag product.image.variant(resize_to_fill: [300, 200]).processed, class: "w-100", alt: product.title %>
    <% end %>

    <div class="card-body d-flex flex-column">
      <h5 class="card-title mb-2">
        <%= link_to product.title, product_path(product), class: "stretched-link text-decoration-none text-dark" %>
      </h5>
      <p class="card-text text-muted small mb-3"><%= truncate(product.description, length: 90) %></p>
    </div>

    <div class="card-footer d-flex justify-content-between align-items-center border-top bg-light">
      <span class="fw-bold text-primary mb-0">
        <% if product.on_sale && product.sale_price_cents.present? %>
          <span class="text-decoration-line-through text-secondary me-2">
            $<%= '%.2f' % (product.price_cents / 100.0) %>
          </span>
          $<%= '%.2f' % (product.on_sale_price / 100.0) %>
        <% else %>
          $<%= '%.2f' % (product.price_cents / 100.0) %>
        <% end %>
      </span>
      <%= link_to "View", product_path(product), class: "btn btn-primary btn-sm" %>
    </div>
  </div>
</div>

